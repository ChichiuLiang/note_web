> æœ¬æ–‡ç”± [ç®€æ‚¦ SimpRead](http://ksria.com/simpread/) è½¬ç ï¼Œ åŸæ–‡åœ°å€ [mp.weixin.qq.com](https://mp.weixin.qq.com/s/q8zA0AkQspXMyzgzyrxPXA)

> ğŸ‘‰ **è¿™æ˜¯ä¸€ä¸ªæˆ–è®¸å¯¹ä½ æœ‰ç”¨****çš„ç¤¾ç¾¤**
> 
> ğŸ± ä¸€å¯¹ä¸€äº¤æµ / é¢è¯•å°å†Œ / ç®€å†ä¼˜åŒ– / æ±‚èŒè§£æƒ‘ï¼Œæ¬¢è¿åŠ å…¥ã€Œ[**èŠ‹é“å¿«é€Ÿå¼€å‘å¹³å°**](http://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247576728&idx=1&sn=1298645b025eb51d9078e8c3de7b3c17&chksm=fa4bd329cd3c5a3fd63e455cf39507d3611a7b040be1381fd5ecfc0a7ce3867575fda4b7313d&scene=21#wechat_redirect)ã€çŸ¥è¯†æ˜Ÿçƒã€‚ä¸‹é¢æ˜¯æ˜Ÿçƒæä¾›çš„éƒ¨åˆ†èµ„æ–™ï¼šÂ 
> 
> *   [ã€Šé¡¹ç›®å®æˆ˜ï¼ˆè§†é¢‘ï¼‰ã€‹](http://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247576728&idx=1&sn=1298645b025eb51d9078e8c3de7b3c17&chksm=fa4bd329cd3c5a3fd63e455cf39507d3611a7b040be1381fd5ecfc0a7ce3867575fda4b7313d&scene=21#wechat_redirect)ï¼šä»ä¹¦ä¸­å­¦ï¼Œå¾€äº‹ä¸Š **â€œç»ƒâ€**
>     
> *   [ã€Šäº’è”ç½‘é«˜é¢‘é¢è¯•é¢˜ã€‹](http://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247576728&idx=1&sn=1298645b025eb51d9078e8c3de7b3c17&chksm=fa4bd329cd3c5a3fd63e455cf39507d3611a7b040be1381fd5ecfc0a7ce3867575fda4b7313d&scene=21#wechat_redirect)ï¼šé¢æœç®€å†å­¦ä¹ ï¼Œæ˜¥æš–èŠ±å¼€
>     
> *   [ã€Šæ¶æ„ x ç³»ç»Ÿè®¾è®¡ã€‹](http://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247576728&idx=1&sn=1298645b025eb51d9078e8c3de7b3c17&chksm=fa4bd329cd3c5a3fd63e455cf39507d3611a7b040be1381fd5ecfc0a7ce3867575fda4b7313d&scene=21#wechat_redirect)ï¼šæ‘§æ¯æ‹‰æœ½ï¼ŒæŒæ§é¢è¯•é«˜é¢‘åœºæ™¯é¢˜
>     
> *   [ã€Šç²¾è¿› Java å­¦ä¹ æŒ‡å—ã€‹](http://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247576728&idx=1&sn=1298645b025eb51d9078e8c3de7b3c17&chksm=fa4bd329cd3c5a3fd63e455cf39507d3611a7b040be1381fd5ecfc0a7ce3867575fda4b7313d&scene=21#wechat_redirect)ï¼šç³»ç»Ÿå­¦ä¹ ï¼Œäº’è”ç½‘ä¸»æµæŠ€æœ¯æ ˆ
>     
> *   [ã€Šå¿…è¯» Java æºç ä¸“æ ã€‹](http://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247576728&idx=1&sn=1298645b025eb51d9078e8c3de7b3c17&chksm=fa4bd329cd3c5a3fd63e455cf39507d3611a7b040be1381fd5ecfc0a7ce3867575fda4b7313d&scene=21#wechat_redirect)ï¼šçŸ¥å…¶ç„¶ï¼ŒçŸ¥å…¶æ‰€ä»¥ç„¶
>     

![](https://mmbiz.qpic.cn/mmbiz_gif/JdLkEI9sZfdWPYr0VKaXztEGHacpRyle7tbZkryrsxIpnAfjRt03ibrcloEZqlRPaVKcb0nD2PrYjtovwOAaFlA/640?wx_fmt=gif)

> ğŸ‘‰**è¿™æ˜¯ä¸€ä¸ªæˆ–è®¸å¯¹ä½ æœ‰ç”¨çš„å¼€æºé¡¹ç›®**
> 
> å›½äº§ Star ç ´ 10w+ çš„å¼€æºé¡¹ç›®ï¼Œå‰ç«¯åŒ…æ‹¬ç®¡ç†åå° + å¾®ä¿¡å°ç¨‹åºï¼Œåç«¯æ”¯æŒå•ä½“å’Œå¾®æœåŠ¡æ¶æ„ã€‚
> 
> åŠŸèƒ½æ¶µç›– RBAC æƒé™ã€SaaS å¤šç§Ÿæˆ·ã€æ•°æ®æƒé™ã€å•†åŸã€æ”¯ä»˜ã€å·¥ä½œæµã€å¤§å±æŠ¥è¡¨ã€å¾®ä¿¡å…¬ä¼—å·ã€CRM ç­‰ç­‰åŠŸèƒ½ï¼š
> 
> *   Boot ä»“åº“ï¼šhttps://gitee.com/zhijiantianya/ruoyi-vue-pro
>     
> *   Cloud ä»“åº“ï¼šhttps://gitee.com/zhijiantianya/yudao-cloud
>     
> *   è§†é¢‘æ•™ç¨‹ï¼šhttps://doc.iocoder.cn
>     
> 
> ã€å›½å†…é¦–æ‰¹ã€‘æ”¯æŒ JDK 21Â + SpringBoot 3.2.0ã€JDK 8 + Spring Boot 2.7.18 åŒç‰ˆæœ¬Â 

[æ¥æºï¼šç çŒ¿æŠ€æœ¯ä¸“æ ](https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247487551&idx=1&sn=18f64ba49f3f0f9d8be9d1fdef8857d9&scene=21#wechat_redirect)

*   [éœ€æ±‚](https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247487551&idx=1&sn=18f64ba49f3f0f9d8be9d1fdef8857d9&chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&scene=21&token=899450012&lang=zh_CN#wechat_redirect)
    
*   [é—®é¢˜](https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247487551&idx=1&sn=18f64ba49f3f0f9d8be9d1fdef8857d9&chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&scene=21&token=899450012&lang=zh_CN#wechat_redirect)
    
*   [è§£å†³](https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247487551&idx=1&sn=18f64ba49f3f0f9d8be9d1fdef8857d9&chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&scene=21&token=899450012&lang=zh_CN#wechat_redirect)
    
*   [æµ‹è¯•](https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247487551&idx=1&sn=18f64ba49f3f0f9d8be9d1fdef8857d9&chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&scene=21&token=899450012&lang=zh_CN#wechat_redirect)
    

[![](https://mmbiz.qpic.cn/mmbiz_jpg/CKvMdchsUwlrjgVMCQFU7NFyibnPgmhsdwGyCnKSmdH6akshggH5fDYgoWvzK8rkl4pOeYyo7Zs479LibQndSKNA/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1)](https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247487551&idx=1&sn=18f64ba49f3f0f9d8be9d1fdef8857d9&chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&scene=21&token=899450012&lang=zh_CN#wechat_redirect)

* * *

æ’å…¥å¼æ³¨è§£å¤„ç†å™¨åœ¨ã€Šæ·±å…¥ç†è§£ Java è™šæ‹Ÿæœºã€‹ä¸€ä¹¦ä¸­æœ‰ä¸€äº›ä»‹ç»ï¼ˆå‰ç«¯ç¼–è¯‘ç¯‡æœ‰æåˆ°ï¼‰ï¼Œä½†ä¸€ç›´æ²¡æœ‰æœºä¼šä½¿ç”¨ï¼Œç›´åˆ°ç¢°åˆ°è¿™ä¸ªéœ€æ±‚ï¼Œè§‰å¾—å†åˆé€‚ä¸è¿‡äº†ï¼Œå°±ç®€å•ç”¨äº†ä¸€ä¸‹ï¼Œè¿™é‡Œåšä¸ªè®°å½•ã€‚

äº†è§£è¿‡ lombok åº•å±‚åŸç†çš„éƒ½çŸ¥é“å…¶ä½¿ç”¨çš„å°±æ˜¯çš„æ’å…¥å¼æ³¨è§£ï¼Œé‚£ä¹ˆä»Šå¤©ç¬”è€…å°±ä»¥çœŸå®åœºæ™¯æ¼”ç¤ºä¸€ä¸‹æ’å…¥å¼æ³¨è§£çš„ä½¿ç”¨ã€‚

[éœ€æ±‚](https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247487551&idx=1&sn=18f64ba49f3f0f9d8be9d1fdef8857d9&scene=21#wechat_redirect)
-----------------------------------------------------------------------------------------------------------------------------------------

æˆ‘ä»¬ä¸ºå…¬å¸æä¾›äº†ä¸€å¥—é€šç”¨çš„ JAVA åŸºç¡€ç»„ä»¶åŒ…ï¼Œç»„ä»¶åŒ…å†…æœ‰ä¸åŒçš„æ¨¡å—ï¼Œæ¯”å¦‚ç†”æ–­æ¨¡å—ã€è´Ÿè½½å‡æ¨¡å—ã€rpc æ¨¡å—ç­‰ç­‰ï¼Œè¿™äº›æ¨¡å—å‡ä¼šè¢«æ‰“æˆ jar åŒ…ï¼Œç„¶åå‘å¸ƒåˆ°å…¬å¸çš„å†…éƒ¨ä»£ç ä»“åº“ä¸­ï¼Œä¾›å…¶ä»–äººå¼•å…¥ä½¿ç”¨ã€‚

è¿™ä»½ä»£ç ä¼šä¸æ–­çš„è¿­ä»£ï¼Œæˆ‘ä»¬å¸Œæœ›å¯ä»¥é€šè¿‡`promethus`æ¥ç›‘æ§ç°åœ¨å…¬å¸å†…ä½¿ç”¨å„ç‰ˆæœ¬ä»£ç åº“çš„æ¯”ä¾‹ï¼Œå¸Œæœ›è¾¾åˆ°çš„æ•ˆæœå›¾å¦‚ä¸‹ï¼š

![](https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZfeG75eWAHmVD0hHbJOaQqaRa8kqBMMpLNVeuN96fIEfeJUQT57POhpJicGDkqguPpLxO1aKIicWOT6Q/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1)

æˆ‘ä»¬å¸Œæœ›çœ‹åˆ°æ¯ä¸€ä¸ªç‰ˆæœ¬çš„ä½¿ç”¨ç‡ï¼Œè¿™æœ‰åˆ©äºæˆ‘ä»¬åšç‰ˆæœ¬å…¼å®¹ï¼Œå¿…è¦çš„æ—¶å€™å¯ä»¥å¯¹å¤æ—©ç‰ˆæœ¬ä½¿ç”¨è€…æº¯æºã€‚

> åŸºäº Spring Boot + MyBatis Plus + Vue & Element å®ç°çš„åå°ç®¡ç†ç³»ç»Ÿ + ç”¨æˆ·å°ç¨‹åºï¼Œæ”¯æŒ RBAC åŠ¨æ€æƒé™ã€å¤šç§Ÿæˆ·ã€æ•°æ®æƒé™ã€å·¥ä½œæµã€ä¸‰æ–¹ç™»å½•ã€æ”¯ä»˜ã€çŸ­ä¿¡ã€å•†åŸç­‰åŠŸèƒ½
> 
> *   é¡¹ç›®åœ°å€ï¼šhttps://github.com/YunaiV/ruoyi-vue-pro
>     
> *   è§†é¢‘æ•™ç¨‹ï¼šhttps://doc.iocoder.cn/video/
>     

[é—®é¢˜](https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247487551&idx=1&sn=18f64ba49f3f0f9d8be9d1fdef8857d9&scene=21#wechat_redirect)
-----------------------------------------------------------------------------------------------------------------------------------------

éœ€æ±‚ä¼¼ä¹å¾ˆç®€å•ï¼Œä½†çœŸè¦è·å–è‡ªèº«çš„ jar ç‰ˆæœ¬å·è¿˜æ˜¯æŒºéº»çƒ¦çš„ï¼Œæœ‰ä¸ªæ¯”è¾ƒç®€å•ä½†é˜´é—´çš„åŠæ³•ï¼Œå°±æ˜¯ç»™æ¯ä¸€ä¸ªç»„ä»¶éƒ½åŠ ä¸Šå½“å‰çš„ jar ç‰ˆæœ¬å·ï¼Œå†™åˆ°é…ç½®æ–‡ä»¶é‡Œæˆ–è€…ç›´æ¥è®¾ç½®æˆå¸¸é‡ï¼Œè¿™æ ·ä¸ŠæŠ¥ promethus æ—¶å°±å¯ä»¥ç›´æ¥è·å–åˆ° jar åŒ…ç‰ˆæœ¬å·äº†ï¼Œè¿™ä¸ªæ–¹æ³•è™½ç„¶å¯ä»¥è§£å†³é—®é¢˜ï¼Œä½†æ¯æ¬¡è¿­ä»£ç‰ˆæœ¬éƒ½è¦è·Ÿç€æ”¹ä¸€éæ‰€æœ‰ç»„ä»¶åŒ…çš„ç‰ˆæœ¬å·æ•°æ®ï¼Œè¿‡äºéº»çƒ¦ã€‚

æœ‰æ²¡æœ‰æ›´å¥½çš„è§£å†³åŠæ³•å‘¢ï¼Ÿæ¯”å¦‚æˆ‘ä»¬å¯ä¸å¯ä»¥åœ¨ gradle æ‰“åŒ…æ„å»ºæ—¶æ‹¿åˆ° jar åŒ…çš„ç‰ˆæœ¬å·ï¼Œç„¶åæ³¨å…¥åˆ°æ¯ä¸ªç»„ä»¶ä¸­å»å‘¢ï¼Ÿå°±åƒ lombok é‚£æ ·ï¼Œä¸éœ€è¦å†™ getã€set æ–¹æ³•ï¼Œåªéœ€è¦åŠ ä¸ªæ³¨è§£æ ‡è®°å°±å¯ä»¥è‡ªåŠ¨æ³¨å…¥ getã€set æ–¹æ³•ã€‚

æ¯”å¦‚æˆ‘ä»¬å¯ä»¥ç»™æ¯ä¸ªç»„ä»¶å®šä¹‰ä¸€ä¸ªç©ºå¸¸é‡ï¼ŒåŠ ä¸Šè‡ªå®šä¹‰çš„æ³¨è§£ï¼š

```
@TrisceliVersion
publicÂ staticÂ finalÂ StringÂ versionÂ =Â "";


```

ç„¶ååƒ lombok ç”Ÿæˆ set/get æ–¹æ³•é‚£æ ·æ³¨å…¥çœŸæ­£çš„ç‰ˆæœ¬å·ï¼š

```
@TrisceliVersion
publicÂ staticÂ finalÂ StringÂ versionÂ =Â "1.0.31-SNAPSHOT";


```

å‚è€ƒ lombok çš„å®ç°ï¼Œè¿™å…¶å®æ˜¯å¯ä»¥åšåˆ°çš„ï¼Œä¸‹é¢æ¥çœ‹è§£å†³æ–¹æ¡ˆã€‚

> åŸºäº Spring Cloud Alibaba + Gateway + Nacos + RocketMQ + Vue & Element å®ç°çš„åå°ç®¡ç†ç³»ç»Ÿ + ç”¨æˆ·å°ç¨‹åºï¼Œæ”¯æŒ RBAC åŠ¨æ€æƒé™ã€å¤šç§Ÿæˆ·ã€æ•°æ®æƒé™ã€å·¥ä½œæµã€ä¸‰æ–¹ç™»å½•ã€æ”¯ä»˜ã€çŸ­ä¿¡ã€å•†åŸç­‰åŠŸèƒ½
> 
> *   é¡¹ç›®åœ°å€ï¼šhttps://github.com/YunaiV/yudao-cloud
>     
> *   è§†é¢‘æ•™ç¨‹ï¼šhttps://doc.iocoder.cn/video/
>     

[è§£å†³](https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247487551&idx=1&sn=18f64ba49f3f0f9d8be9d1fdef8857d9&scene=21#wechat_redirect)
-----------------------------------------------------------------------------------------------------------------------------------------

java ä¸­è§£æä¸€ä¸ªæ³¨è§£çš„æ–¹å¼ä¸»è¦æœ‰ä¸¤ç§ï¼šç¼–è¯‘æœŸæ‰«æã€è¿è¡ŒæœŸåå°„ï¼Œè¿™æ˜¯ lombokÂ `@Setter`çš„å®ç°ï¼š

```
@Target({ElementType.FIELD,Â ElementType.TYPE})
@Retention(RetentionPolicy.SOURCE)
publicÂ @interfaceÂ SetterÂ {
Â Â Â //Â ç•¥...
}


```

å¯ä»¥çœ‹åˆ°`@Setter`çš„`Retention`æ˜¯`SOURCE`ç±»å‹çš„ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªæ³¨è§£åªåœ¨ç¼–è¯‘æœŸæœ‰æ•ˆï¼Œå®ƒç”šè‡³ä¸ä¼šè¢«ç¼–å…¥ class æ–‡ä»¶ï¼Œæ‰€ä»¥ lombok æ— ç–‘æ˜¯ç¬¬ä¸€ç§è§£ææ–¹å¼ï¼Œé‚£ç”¨ä»€ä¹ˆæ–¹å¼å¯ä»¥åœ¨ç¼–è¯‘æœŸå°±è®©æ³¨è§£è¢«è§£æåˆ°å¹¶æ‰§è¡Œæˆ‘ä»¬çš„è§£æä»£ç å‘¢ï¼Ÿç­”æ¡ˆå°±æ˜¯å®šä¹‰æ’å…¥å¼æ³¨è§£å¤„ç†å™¨ï¼ˆé€šè¿‡ JSR-269 ææ¡ˆå®šä¹‰çš„`Pluggable Annotation Processing API`å®ç°ï¼‰

æ’å…¥å¼æ³¨è§£å¤„ç†å™¨çš„è§¦å‘ç‚¹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![](https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZfeG75eWAHmVD0hHbJOaQqaRYNqGf6br8Y9I7ae2IBJHMbNywuGquo0wzYhUVOBtZZ9pAyxiaGvQffw/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1)

ä¹Ÿå°±æ˜¯è¯´æ’å…¥å¼æ³¨è§£å¤„ç†å™¨å¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨ç¼–è¯‘æœŸä¿®æ”¹æŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰ï¼æ‰€ä»¥ç°åœ¨æˆ‘ä»¬åªéœ€è¦è‡ªå®šä¹‰ä¸€ä¸ªè¿™æ ·çš„å¤„ç†å™¨ï¼Œç„¶åå…¶å†…éƒ¨æ‹¿åˆ° jar ç‰ˆæœ¬ä¿¡æ¯ï¼ˆå› ä¸ºæ˜¯ç¼–è¯‘æœŸï¼Œå¯ä»¥æ‰¾åˆ°æºç çš„ pathï¼Œæºç é‡Œéšä¾¿æä¸ªæ–‡ä»¶å­˜æ”¾ç‰ˆæœ¬å·ï¼Œç„¶åç”¨ java io è¯»å–è¿›æ¥å³å¯ï¼‰ï¼Œå†å°†æ³¨è§£å¯¹åº”è¯­æ³•æ ‘ä¸Šçš„å¸¸é‡å€¼è®¾ç½®æˆ jar åŒ…ç‰ˆæœ¬å·ï¼Œè¯­æ³•æ ‘å˜äº†ï¼Œæœ€ç»ˆç”Ÿæˆçš„å­—èŠ‚ç ä¹Ÿä¼šè·Ÿç€å˜ï¼Œè¿™æ ·å°±å®ç°äº†æˆ‘ä»¬æƒ³åœ¨ç¼–è¯‘æœŸç»™å¸¸é‡ version æ³¨å…¥å€¼çš„æ„¿æœ›ã€‚

è‡ªå®šä¹‰ä¸€ä¸ªæ’å…¥å¼æ³¨è§£å¤„ç†å™¨ä¹Ÿå¾ˆç®€å•ï¼Œé¦–å…ˆè¦å°†è‡ªå·±çš„æ³¨è§£å®šä¹‰å‡ºæ¥ï¼š

```
@Documented
@Retention(RetentionPolicy.SOURCE)Â //åªåœ¨ç¼–è¯‘æœŸæœ‰æ•ˆï¼Œæœ€ç»ˆä¸ä¼šæ‰“è¿›classæ–‡ä»¶ä¸­
@Target({ElementType.FIELD})Â //ä»…å…è®¸ä½œç”¨äºç±»å±æ€§ä¹‹ä¸Š
publicÂ @interfaceÂ TrisceliVersionÂ {
}


```

ç„¶åå®šä¹‰ä¸€ä¸ªç»§æ‰¿äº†`AbstractProcessor`çš„å¤„ç†å™¨ï¼š

```
/**
Â *Â {@linkÂ AbstractProcessor}Â å°±å±äºÂ PluggableÂ AnnotationÂ ProcessingÂ API
Â */
publicÂ classÂ TrisceliVersionProcessorÂ extendsÂ AbstractProcessorÂ {

Â Â Â Â privateÂ JavacTreesÂ javacTrees;
Â Â Â Â privateÂ TreeMakerÂ treeMaker;
Â Â Â Â privateÂ ProcessingEnvironmentÂ processingEnv;

Â Â Â Â /**
Â Â Â Â Â *Â åˆå§‹åŒ–å¤„ç†å™¨
Â Â Â Â Â *
Â Â Â Â Â *Â @paramÂ processingEnvÂ æä¾›äº†ä¸€ç³»åˆ—çš„å®ç”¨å·¥å…·
Â Â Â Â Â */
Â Â Â Â @SneakyThrows
Â Â Â Â @Override
Â Â Â Â publicÂ synchronizedÂ voidÂ init(ProcessingEnvironmentÂ processingEnv)Â {
Â Â Â Â Â Â Â Â super.init(processingEnv);
Â Â Â Â Â Â Â Â this.processingEnvÂ =Â processingEnv;
Â Â Â Â Â Â Â Â this.javacTreesÂ =Â JavacTrees.instance(processingEnv);
Â Â Â Â Â Â Â Â ContextÂ contextÂ =Â ((JavacProcessingEnvironment)Â processingEnv).getContext();
Â Â Â Â Â Â Â Â this.treeMakerÂ =Â TreeMaker.instance(context);
Â Â Â Â }


Â Â Â Â @Override
Â Â Â Â publicÂ SourceVersionÂ getSupportedSourceVersion()Â {
Â Â Â Â Â Â Â Â returnÂ SourceVersion.latest();
Â Â Â Â }

Â Â Â Â @Override
Â Â Â Â publicÂ Set<String>Â getSupportedAnnotationTypes()Â {
Â Â Â Â Â Â Â Â HashSet<String>Â setÂ =Â newÂ HashSet<>();
Â Â Â Â Â Â Â Â set.add(TrisceliVersion.class.getName());Â //Â æ”¯æŒè§£æçš„æ³¨è§£
Â Â Â Â Â Â Â Â returnÂ set;
Â Â Â Â }

Â Â Â Â @Override
Â Â Â Â publicÂ booleanÂ process(Set<?Â extendsÂ TypeElement>Â annotations,Â RoundEnvironmentÂ roundEnv)Â {
Â Â Â Â Â Â Â Â forÂ (TypeElementÂ tÂ :Â annotations)Â {
Â Â Â Â Â Â Â Â Â Â Â Â forÂ (ElementÂ eÂ :Â roundEnv.getElementsAnnotatedWith(t))Â {Â //Â è·å–åˆ°ç»™å®šæ³¨è§£çš„elementï¼ˆelementå¯ä»¥æ˜¯ä¸€ä¸ªç±»ã€æ–¹æ³•ã€åŒ…ç­‰ï¼‰
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â //Â JCVariableDeclä¸ºå­—æ®µ/å˜é‡å®šä¹‰è¯­æ³•æ ‘èŠ‚ç‚¹
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â JCTree.JCVariableDeclÂ jcvÂ =Â (JCTree.JCVariableDecl)Â javacTrees.getTree(e);
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â StringÂ varTypeÂ =Â jcv.vartype.type.toString();
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (!"java.lang.String".equals(varType))Â {Â //Â é™å®šå˜é‡ç±»å‹å¿…é¡»æ˜¯Stringç±»å‹ï¼Œå¦åˆ™æŠ›å¼‚å¸¸
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â printErrorMessage(e,Â "TypeÂ '"Â +Â varTypeÂ +Â "'"Â +Â "Â isÂ notÂ support.");
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â jcv.initÂ =Â treeMaker.Literal(getVersion());Â //Â ç»™è¿™ä¸ªå­—æ®µèµ‹å€¼ï¼Œä¹Ÿå°±æ˜¯getVersionçš„è¿”å›å€¼
Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â returnÂ true;
Â Â Â Â }

Â Â Â Â /**
Â Â Â Â Â *Â åˆ©ç”¨processingEnvå†…çš„Messagerå¯¹è±¡è¾“å‡ºä¸€äº›æ—¥å¿—
Â Â Â Â Â *
Â Â Â Â Â *Â @paramÂ eÂ element
Â Â Â Â Â *Â @paramÂ mÂ errorÂ message
Â Â Â Â Â */
Â Â Â Â privateÂ voidÂ printErrorMessage(ElementÂ e,Â StringÂ m)Â {
Â Â Â Â Â Â Â Â processingEnv.getMessager().printMessage(Diagnostic.Kind.ERROR,Â m,Â e);
Â Â Â Â }

Â Â Â Â privateÂ StringÂ getVersion()Â {
Â Â Â Â Â Â Â Â /**
Â Â Â Â Â Â Â Â Â *Â è·å–versionï¼Œè¿™é‡Œçœç•¥æ‰å¤æ‚çš„ä»£ç ï¼Œç›´æ¥è¿”å›å›ºå®šå€¼
Â Â Â Â Â Â Â Â Â */
Â Â Â Â Â Â Â Â returnÂ "v1.0.1";
Â Â Â Â }


```

å®šä¹‰å¥½çš„å¤„ç†å™¨éœ€è¦`SPIæœºåˆ¶`è¢«å‘ç°ï¼Œæ‰€ä»¥éœ€è¦å®šä¹‰`META.services`ï¼š

![](https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZfeG75eWAHmVD0hHbJOaQqaR7nFygXetMWNEN0sxVuAyzacspiaotXLXrQ27DXEta6anf7uxQ7aXtxQ/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1)

[æµ‹è¯•](https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247487551&idx=1&sn=18f64ba49f3f0f9d8be9d1fdef8857d9&scene=21#wechat_redirect)
-----------------------------------------------------------------------------------------------------------------------------------------

æ–°å»ºæµ‹è¯•æ¨¡å—ï¼Œå¼•å…¥åˆšæ‰å†™å¥½çš„ä»£ç åŒ…ï¼š

![](https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZfeG75eWAHmVD0hHbJOaQqaRXp3bOSCYpiczz1vCPOFd9XCfSwYjbBZSqMseqrxOuz7AIVZ4jSJnIVQ/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1)

è¿™æ˜¯ Test ç±»ï¼š

![](https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZfeG75eWAHmVD0hHbJOaQqaRy1lFesuQuxiciag0lIbGmbB92pg7pPgqo0yyicAumPJhTCdrkLNMlXmVg/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1)

ç°åœ¨æˆ‘ä»¬åªéœ€è¦è®© gradle build ä¸€ä¸‹ï¼Œæ–°å¾—åˆ°çš„å­—èŠ‚ç ä¸­è¯¥å­—æ®µå°±æœ‰å€¼äº†ï¼š

![](https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZfeG75eWAHmVD0hHbJOaQqaRicFuibTtiaeOp7LwsICY7s42CIaAYkY5xoqBRloZAQJPXpvpibMMMT30Cg/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1)

è¿™åªæ˜¯**æ’å…¥å¼æ³¨è§£å¤„ç†å™¨**Â åŠŸèƒ½çš„å†°å±±ä¸€è§’ï¼Œæ—¢ç„¶å®ƒå¯ä»¥é€šè¿‡ä¿®æ”¹æŠ½è±¡è¯­æ³•æ ‘æ¥æ§åˆ¶ç”Ÿæˆçš„å­—èŠ‚ç ï¼Œé‚£ä¹ˆè‡ªç„¶å°±æœ‰äººèƒ½å……åˆ†åˆ©ç”¨å…¶ç‰¹æ€§æ¥å®ç°ä¸€äº›å¾ˆé…·çš„æ’ä»¶ï¼Œæ¯”å¦‚ lombokï¼Œæˆ‘ä»¬å†ä¹Ÿä¸ç”¨å†™è¯¸å¦‚ set/get è¿™ç§æ¨¡æ¿å¼çš„ä»£ç äº†ï¼Œåªè¦æˆ‘ä»¬è¶³å¤Ÿæœ‰åˆ›æ„ï¼Œå°±å¯ä»¥è®©åŸºäºè¿™ä¸€å¥— API å®ç°çš„æ’ä»¶åœ¨åŠŸèƒ½ä¸Šæœ‰å¾ˆå¤§çš„å‘æŒ¥ç©ºé—´ã€‚

* * *

æ¬¢è¿åŠ å…¥æˆ‘çš„çŸ¥è¯†æ˜Ÿçƒï¼Œå…¨é¢æå‡æŠ€æœ¯èƒ½åŠ›ã€‚

ğŸ‘‰Â åŠ å…¥æ–¹å¼ï¼Œ**â€œ**é•¿æŒ‰**â€ æˆ– â€œ**æ‰«æ**â€ ä¸‹æ–¹äºŒç»´ç å™¢**ï¼š

![](https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZfdvrE36I5uQ6ZlawMiahg3UYUmeiaibJrfebfNR8mDWMzmMXB49BMGYiaK7KnsSjGjP7JJoEGoRxZQMMg/640?wx_fmt=png)

æ˜Ÿçƒçš„**å†…å®¹åŒ…æ‹¬**ï¼šé¡¹ç›®å®æˆ˜ã€é¢è¯•æ‹›è˜ã€æºç è§£æã€å­¦ä¹ è·¯çº¿ã€‚

![](https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZfdWPYr0VKaXztEGHacpRyle64G451XsWx4Ufc9FHYmNTqFdKdtNhyjlhrEC7Pic1dRfue78ib3TiaKBg/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZfdWPYr0VKaXztEGHacpRylewlfAU6nBKS8tWSIrLcmSicsq0ECUIVnf0JHibsLARrp4Z3ZCh5oSvYMQ/640?wx_fmt=png)![](https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZfdWPYr0VKaXztEGHacpRyleptHSrmBV71SbQSolzZpmdqN2q03yLwk1bwZYNu2lr17gFjO0rh1ZdQ/640?wx_fmt=png)![](https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZfdWPYr0VKaXztEGHacpRyleYQLfl6qLTABQx5UrP0dXXv6cSv2TmBoouiciaZIXwyD88h5OIsM8lpkw/640?wx_fmt=png)![](https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZfdWPYr0VKaXztEGHacpRyleicAvrkTkdGYRubqZdPNkqpoTmtOCQjkItotwtAbCxibsWUI4Dz0ILTEg/640?wx_fmt=png)

```
æ–‡ç« æœ‰å¸®åŠ©çš„è¯ï¼Œåœ¨çœ‹ï¼Œè½¬å‘å§ã€‚

è°¢è°¢æ”¯æŒå“Ÿ (*^__^*ï¼‰

```